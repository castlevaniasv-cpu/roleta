<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Roleta da Galera</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  background:#eef1f5;
  font-family:Arial;
}
.app{
  max-width:1100px;
  margin:20px auto;
  background:#cfd8e3;
  border-radius:10px;
  padding:15px;
}
.top{
  display:flex;
  gap:20px;
}
.roleta-box{
  width:280px;
  text-align:center;
}
.roleta{
  width:200px;
  height:200px;
  border:10px solid #333;
  border-radius:50%;
  margin:auto;
  position:relative;
  overflow:hidden;
  transition:transform 3s ease-out;
  background:conic-gradient(
    #6b21a8 0deg 36deg,
    #7c3aed 36deg 72deg,
    #9333ea 72deg 108deg,
    #a855f7 108deg 144deg,
    #c084fc 144deg 180deg,
    #6b21a8 180deg 216deg,
    #7c3aed 216deg 252deg,
    #9333ea 252deg 288deg,
    #a855f7 288deg 324deg,
    #c084fc 324deg 360deg
  );
}
.seta{
  width:0;
  height:0;
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:20px solid red;
  margin:auto;
}
button{
  background:#374151;
  color:#fff;
  border:none;
  padding:10px;
  width:100%;
  border-radius:6px;
  cursor:pointer;
  margin-top:5px;
}
.painel{
  flex:1;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.box{
  background:#e5eaf1;
  border-radius:8px;
  padding:10px;
}
h3{margin:0 0 5px 0;}
input{
  width:100%;
  padding:5px;
  margin:3px 0;
}
.lista div{
  background:#fff;
  margin:3px 0;
  padding:5px;
  border-radius:4px;
  font-size:14px;
}
textarea{
  width:100%;
  height:100px;
}
</style>
</head>
<body>

<div class="app">
  <div class="top">
    <div class="roleta-box">
      <div class="seta"></div>
      <div id="roleta" class="roleta"></div>
      <button onclick="girar()">GIRAR</button>
      <p id="resultado"></p>
    </div>

    <div class="painel">
      <div class="box">
        <h3>Participantes</h3>
        <div id="lista" class="lista"></div>
        <input id="nome" placeholder="Nome">
        <input id="numero" type="number" placeholder="NÃºmero (0-9)">
        <input id="valor" type="number" placeholder="Valor apostado">
        <button onclick="addJogador()">+</button>
      </div>

      <div class="box">
        <h3>Saldo Final</h3>
        <div id="saldo" class="lista"></div>
      </div>

      <div class="box">
        <h3>Itens da Roleta</h3>
        <div id="itens" class="lista"></div>
        <input id="itemNome" placeholder="Nome do item">
        <input id="itemNum" type="number" placeholder="NÃºmero (0-9)">
        <button onclick="addItem()">+</button>
      </div>

      <div class="box">
        <h3>AnotaÃ§Ãµes</h3>
        <textarea></textarea>
      </div>
    </div>
  </div>
</div>

<script>
let jogadores = [];
let itens = [];
let angulo = 0;

function addJogador(){
  const nome = nome.value;
  const numero = +numero.value;
  const valor = +valor.value;
  if(!nome || isNaN(numero) || isNaN(valor)) return alert("Preencha tudo!");

  jogadores.push({nome,numero,valor,saldo:0});
  atualizar();
}

function addItem(){
  const n = itemNome.value;
  const num = +itemNum.value;
  if(!n || isNaN(num)) return;
  itens.push({n,num});
  atualizar();
}

function atualizar(){
  lista.innerHTML="";
  saldo.innerHTML="";
  itensDiv = document.getElementById("itens");
  itensDiv.innerHTML="";

  jogadores.forEach(j=>{
    lista.innerHTML += `<div>${j.nome} | ðŸŽ¯ ${j.numero} | ðŸ’° ${j.valor}</div>`;
    saldo.innerHTML += `<div>${j.nome} â†’ ${j.saldo}</div>`;
  });

  itens.forEach(i=>{
    itensDiv.innerHTML += `<div>${i.n} â†’ ${i.num}</div>`;
  });
}

function girar(){
  if(jogadores.length < 2) return alert("Adicione mais jogadores!");

  const sorte = Math.floor(Math.random()*10);
  const extra = 360*5;
  angulo += extra + sorte*36;
  roleta.style.transform = `rotate(${angulo}deg)`;

  setTimeout(()=>{
    resultado.innerText = "ðŸŽ¯ NÃºmero: " + sorte;
    let ganhador = jogadores.find(j=>j.numero===sorte);
    let total=0;

    jogadores.forEach(j=>{
      if(j!==ganhador) total+=j.valor;
    });

    if(ganhador){
      ganhador.saldo += total;
      resultado.innerText += " | ðŸŽ‰ " + ganhador.nome + " ganhou " + total;
    }else{
      resultado.innerText += " | ðŸ˜… NinguÃ©m acertou";
    }
    atualizar();
  },3000);
}
</script>

</body>
</html>
